@* File: Components/Layout/MainLayout.razor *@
@inherits LayoutComponentBase
@using Cansat_Dashboard.Web.Services
@inject DashboardState State
@implements IDisposable

<div class="min-h-screen flex flex-col">
    <header class="p-4">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="header-title text-3xl font-bold text-white">CANSAT DASHBOARD</h1>
            <div class="flex items-center space-x-8">
                <div class="text-center">
                    <p class="text-sm text-gray-400">Mission Time</p>
                    <p id="mission-time" class="text-2xl font-bold text-white">@State.MissionTime</p>
                </div>
                <div class="text-center">
                    <p class="text-sm text-gray-400">Battery</p>
                    <p id="battery-level" class="text-2xl font-bold text-white">@State.Battery</p>
                </div>
                <div class="text-white text-4xl cursor-pointer">
                    ☰
                </div>
            </div>
        </div>
    </header>

    <main class="flex-grow container mx-auto p-4">
        @Body
    </main>
</div>

@code {
    protected override void OnInitialized()
    {
        State.OnChange += StateHasChanged;
    }

    public void Dispose()
    {
        State.OnChange -= StateHasChanged;
    }
}